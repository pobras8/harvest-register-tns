<div class="guest" [@flyInOut]="'in'">
  <div class="form-container">
    <h5 style="font-weight:bold;">FIRST-TIME GUEST FORM</h5>
    <form novalidate (ngSubmit)="submit(guestForm.value)" [formGroup]="guestForm">
      <div class="form-group row">
        <div class="col-xs-12 col-sm-6">
          <label for="firstName">First Name</label>
          <input type="text" class="form-control" id="firstName" formControlName="firstName">
        </div>
        <div class="col-xs-12 col-sm-6">
          <label for="lastName">Last Name</label>
          <input type="text" class="form-control" id="lastName" formControlName="lastName">
        </div>
      </div>
      <div class="form-group row">
          <div class="col-xs-12" formArrayName="family">
              <div class="row" *ngFor="let family of guestForm.controls.family.controls; let i = index;" [formGroupName]="i">
                  <div class="col-xs-12 col-sm-4">
                      <input type="text" class="form-control" placeholder="First Name" formControlName="firstName">
                  </div>
                  <div class="col-xs-12 col-sm-4" style="padding-left:0;">
                    <input type="text" class="form-control" placeholder="Last Name" formControlName="lastName">
                  </div>
                  <div class="col-xs-12 col-sm-4" style="padding:0 30px 0 0;">
                    <select class="form-control" placeholder="Relationship" formControlName="relationship">
                      <option *ngFor="let r of relationshipList" value="{{r}}">{{r}}</option>
                    </select>
                  </div>
                  <button type="button" class="close" *ngIf="guestForm.controls.family.controls.length > 0" (click)="removeFamily(i)" aria-label="Remove" style="position:absolute; right:10px; padding:6px 0;">
                    <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <button type="button" class="btn btn-sm add-btn" (click)="addFamily()">+ Add Family Member</button>
          </div>
      </div>
      <div class="form-group row">
        <div class="col-xs-12 col-sm-6" formArrayName="emails">
          <label>Email(s)</label>
          <button type="button" class="btn btn-sm add-btn" (click)="addEmail()">+ Add Email</button>
          <div *ngFor="let email of guestForm.controls.emails.controls; let i = index;">
            <button type="button" class="close" *ngIf="guestForm.controls.emails.controls.length > 1" (click)="removeEmail(i)" aria-label="Remove" style="position:absolute; right:20px; padding:6px 0;">
              <span aria-hidden="true">&times;</span>
            </button>
            <input type="email" class="form-control" [formControlName]="i">
          </div>
        </div>
        <div class="col-xs-12 col-sm-6" formArrayName="phones">
          <label>Phone(s)</label>
          <button type="button" class="btn btn-sm add-btn" (click)="addPhone()">+ Add Phone</button>
          <div *ngFor="let phone of guestForm.controls.phones.controls; let i = index;">
            <button type="button" class="close" *ngIf="guestForm.controls.phones.controls.length > 1" (click)="removePhone(i)" aria-label="Remove" style="position:absolute; right:20px; padding:6px 0;">
              <span aria-hidden="true">&times;</span>
            </button>
            <input type="tel" class="form-control" [formControlName]="i">
          </div>
        </div>
      </div>
      <div class="form-group row" formGroupName="address">
        <div class="col-xs-12">
          <label for="line1">Address</label>
          <input type="text" class="form-control" id="line1" formControlName="line1">
        </div>
        <div class="col-xs-5">
          <label for="city">City</label>
          <input type="text" class="form-control" id="city" formControlName="city">
        </div>
        <div class="col-xs-3">
          <label for="state">State</label>
          <select class="form-control" id="state" formControlName="state">
            <option *ngFor="let s of stateList" value="{{s}}">{{s}}</option>
          </select>
        </div>
        <div class="col-xs-4">
          <label for="zip">Zip</label>
          <input type="text" class="form-control" id="zip" formControlName="zip">
        </div>
      </div>
      <div class="form-group row">
        <legend class="col-form-legend col-xs-12" style="padding-bottom:0; font-weight:bold;">MARITAL STATUS</legend>
        <div class="col-xs-12">
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="marital" id="single" value="single">
            Single
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="marital" id="singleParent" value="singleParent">
            Single Parent
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="marital" id="married" value="married">
            Married
          </label>
        </div>
      </div>
      <div class="form-group row">
        <legend class="col-form-legend col-xs-12" style="padding-bottom:0; font-weight:bold;">AGE CATEGORY</legend>
        <div class="col-xs-12">
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="jrhigh" value="jrhigh">
            Jr High
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="highschool" value="highschool">
            High School
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="college" value="college">
            College
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="20s" value="20s">
            20's
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="30s" value="30s">
            30's
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="40s" value="40s">
            40's
          </label>
        </div>
        <div class="col-xs-12">
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="50s" value="50s">
            50's
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="ageCat" id="60plus" value="60plus">
            60+
          </label>
        </div>
      </div>
      <div class="form-group row">
        <legend class="col-form-legend col-xs-12" style="padding-bottom:0; font-weight:bold;">HOW DID YOU HEAR ABOUT US</legend>
        <div class="col-xs-12">
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="reference" id="website" value="website">
            Website
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="reference" id="friend" value="friend">
            Friend
          </label>
          <label class="form-check-inline">
            <input class="form-check-input" type="radio" formControlName="reference" id="other" value="other">
            Other
          </label>
        </div>
      </div>
      <div class="form-group row next-steps" formGroupName="nextSteps" style="border-top:solid 10px rgba(0,0,0,0.5); padding:10px 0; margin:0;">
        <h5 style="font-weight:bold;">NEXT STEPS <small>(Optional)</small></h5>
        <div class="col-xs-6" style="padding:0 0 0 20px;">
          <label class="form-check">
            <input class="form-check-input" type="checkbox" formControlName="party">
            Sign up for <strong>Party with the Pastors!</strong>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="checkbox" formControlName="baptism">
            Sign up for <strong>Baptism!</strong>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="checkbox" formControlName="newsletter">
            Sign up for <strong>Harvest's Weekly Newsletter!</strong>
          </label>
        </div>
        <div class="col-xs-6">
          <label class="form-check">
            <input class="form-check-input" type="checkbox" formControlName="discover">
            Sign up for <strong>Discover Harvest!</strong>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="checkbox" formControlName="serving">
            Contact me about <strong>Serving!</strong>
          </label>
        </div>
      </div>
      <div class="form-group row prayer-req" style="border-top:solid 10px rgba(0,0,0,0.5); padding:10px 0; margin:0;">
        <h5 style="font-weight:bold;">PRAISES & PRAYER REQUESTS <small>(Optional)</small></h5>
        <textarea class="form-control" id="prayerReq" rows="3"></textarea>
        <div class="col-xs-12" style="margin-top:10px">
          <label class="form-check">
            <input class="form-check-input" type="radio" name="prayerShare" id="churchBody" value="churchBody">
            Share with the church body (weekly e-newsletter) & with church leadership
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="prayerShare" id="leadership" value="leadership">
            Share with church leadership only
          </label>
        </div>
      </div>
      <div class="form-group text-xs-center" style="border-top:solid 10px rgba(0,0,0,0.5); padding-top:20px; margin-bottom:0;">
        <button type="submit" class="btn btn-success" [disabled]="!guestForm.valid">Submit</button>
        <button type="button" class="btn btn-warning" (click)="cancel()">Cancel</button>
      </div>
    </form>
  </div>
</div>
